From ed84614b20a6c9414ad9435dbb12d5258e6d1307 Mon Sep 17 00:00:00 2001
From: Alexandru Costache <alexandru@balena.io>
Date: Mon, 17 May 2021 11:08:25 +0200
Subject: [PATCH] imx8mm-var-dart-nrt: Add LP55231 to the device tree

Use address 0x32 and I2C3 (bus 2) as per the updated
request from the user.

Upstream-status: Inappropriate [configuration]
Signed-off-by: Alexandru Costache <alexandru@balena.io>
---
 .../dts/freescale/fsl-imx8mm-var-dart.dts     | 51 +++++++++++++++++++
 1 file changed, 51 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mm-var-dart.dts b/arch/arm64/boot/dts/freescale/fsl-imx8mm-var-dart.dts
index 316c63d434c5..4aa36e3529f4 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mm-var-dart.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mm-var-dart.dts
@@ -724,6 +724,57 @@
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_i2c3>;
 	status = "okay";
+
+        lp55231@32 {
+                compatible = "ti,lp55231";
+                reg = <0x32>;
+                clock-mode = /bits/ 8 <1>;
+                chan0 {
+                        chan-name = "d1";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan1 {
+                        chan-name = "d2";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan2 {
+                        chan-name = "d3";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan3 {
+                        chan-name = "d4";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan4 {
+                        chan-name = "d5";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan5 {
+                        chan-name = "d6";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan6 {
+                        chan-name = "d7";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan7 {
+                        chan-name = "d8";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+                chan8 {
+                        chan-name = "d9";
+                        led-cur = /bits/ 8 <0xfa>;
+                        max-cur = /bits/ 8 <0xff>;
+                };
+        };
 };
 
 &i2c4 {
-- 
2.17.1

